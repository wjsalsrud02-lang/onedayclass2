{% extends 'base.html' %}

{% block content %}

<section class="explore-ui">
  <div class="top-filters">
      <div class="filter-box active">📍 <span>내 주변 클래스</span></div>
    <div class="filter-box">🗺️ <span>지역</span></div>
    <div class="filter-box">📂 <span>카테고리</span></div>
    <div class="filter-box">🎡 <span>엔터테인먼트/여행</span></div>
  </div>


  <div class="circle-filters">
  <nav>
    <button><span class="circle-label">🧑‍🤝‍🧑 단체</span></button>
    <button><span class="circle-label">🍰 카페</span></button>
    <button><span class="circle-label">💍 반지</span></button>
    <button><span class="circle-label">🎨 드로잉</span></button>
    <button><span class="circle-label">🎁 선물</span></button>
    <button><span class="circle-label">🧡 데이트</span></button>
    <button><span class="circle-label">🧚 향수</span></button>
    <button><span class="circle-label">🏃 스포츠</span></button>
    <button><span class="circle-label">🪵 목공</span></button>
    <button><span class="circle-label">🏺 도자기</span></button>
  </nav>
</div>

</section>
    <div class="banner">
        <div class="banner-text">
            <h1>새로운 취미, 한 번의 예약으로 시작하세요</h1>
            <p>요리, 음악, 사진 등 다양한 원데이 클래스를 예약하고 즐겨보세요.</p>

            <a href="/course" class="btn btn-primary">클래스 등록</a>
            <a href="/qna" class="btn btn-outline">궁금증 해결</a>

        </div>
        <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=900&q=80"
            alt="banner image">
        </div>

    <!-- COURSES -->
    <section id="courses">
        <h2>추천 클래스</h2>
        <div class="courses">
            <div class="course">
                <a href="/about">
                <img src="https://images.unsplash.com/photo-1512058564366-18510be2db19?auto=format&fit=crop&w=900&q=80"
                    alt="쿠킹 클래스">
                <div class="info">
                    <h3>쿠킹 클래스</h3>
                    <p>강사: 김요리</p>
                    <div class="price">₩40,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about2">
                <img src="https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?auto=format&fit=crop&w=900&q=80"
                    alt="디저트 클래스">
                <div class="info">
                    <h3>디저트 클래스</h3>
                    <p>강사: 최디저트</p>
                    <div class="price">₩80,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about3">
                <img src="https://images.unsplash.com/photo-1504208434309-cb69f4fe52b0?auto=format&fit=crop&w=900&q=80"
                    alt="사진 클래스">
                <div class="info">
                    <h3>사진 클래스</h3>
                    <p>강사: 박사진</p>
                    <div class="price">₩135,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about4">
                <img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e?auto=format&fit=crop&w=900&q=80"
                    alt="드로잉 클래스">
                <div class="info">
                    <h3>드로잉 클래스</h3>
                    <p>강사: 송드로잉</p>
                    <div class="price">₩40,500</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about5">
                <img src="https://images.unsplash.com/photo-1552196563-55cd4e45efb3?auto=format&fit=crop&w=900&q=80"
                    alt="요가 클래스">
                <div class="info">
                    <h3>요가 클래스</h3>
                    <p>강사: 정요가</p>
                    <div class="price">₩35,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about6">
                <img src="https://images.unsplash.com/photo-1510626176961-4b57d4fbad03?auto=format&fit=crop&w=900&q=80"
                    alt="칵테일 클래스">
                <div class="info">
                    <h3>칵테일 클래스</h3>
                    <p>강사: 오칵테일</p>
                    <div class="price">₩70,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about7">
                <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=900&q=80"
                    alt="커피 클래스">
                <div class="info">
                    <h3>커피 클래스</h3>
                    <p>강사: 윤바리스타</p>
                    <div class="price">₩35,000</div>
                </div></a>
            </div>
            <div class="course">
                <a href="/about8">
                <img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&w=900&q=80"
                    alt="음악 클래스">
                <div class="info">
                    <h3>음악 클래스</h3>
                    <p>강사: 임뮤직</p>
                    <div class="price">₩30,000</div>
                </div></a>
            </div>
        </div>

    </section>

    <div class="popular-slider">
        <div class="site-width">
            <h2 class="slider-title">인기 클래스</h2>

            <div class="slider-wrapper">
                <button class="slider-control prev" aria-label="이전">&#10094;</button>

                <div class="slider-track" id="sliderTrack">
                    <div class="slide">
                        <img src="https://d194ip2226q57d.cloudfront.net/images/Craft-Class_CO-Shutterstock.original.jpg"
                             alt="공예 클래스">
                        <div class="slide-caption">공예 클래스</div>
                    </div>
                    <div class="slide">
                        <img src="https://mblogthumb-phinf.pstatic.net/MjAyMjA5MjhfMTYz/MDAxNjY0MzMyODA4NzQ3.yWfE0XWfwufY0HdxyHSBb5i9kjn8ZrD-k0-qF_IhaLkg.aZFFbTM5zgWgEAhIDmnNADTnKmxrPNY0oglETwYN2fUg.JPEG.mozziny/IMG_2448.jpg?type=w420"
                             alt="플라워 클래스">
                        <div class="slide-caption">플라워 클래스</div>
                    </div>
                    <div class="slide">
                        <img src="https://www.thespruce.com/thmb/dvW6HQvbub6MzMQTaVKoHFKfrwo%3D/4000x0/filters%3Ano_upscale%28%29%3Amax_bytes%28150000%29%3Astrip_icc%28%29/SPR-types-of-Candle-Wax-5323778-hero-e4277e76885049a28707749d892fe592.jpg"
                             alt="캔들 메이킹">
                        <div class="slide-caption">캔들 메이킹</div>
                    </div>
                    <div class="slide">
                        <img src="https://245acfb160a708db2cc9.cdn6.editmysite.com/uploads/b/245acfb160a708db2cc9da85874241c4756e5a0c1348bfed823b0bb41c475c5c/1694582284263_1694582287.jpg?optimize=medium&width=2400"
                             alt="도자기 클래스">
                        <div class="slide-caption">도자기 클래스</div>
                    </div>
                    <div class="slide">
                        <img src="https://static.onoffmix.com/afv2/thumbnail/2019/08/22/cde0e4cf2b230137aaf1467bd9858695.jpeg"
                             alt="목공 클래스">
                        <div class="slide-caption">목공 클래스</div>
                    </div>
                    <div class="slide">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQ9MgvsBwTsBAUvtYfnbKOW3qDNTPSwNrKvRkQDbiixECM3cz4PUBV8spm7UsM"
                             alt="페인팅 클래스">
                        <div class="slide-caption">페인팅 클래스</div>
                    </div>
                    <div class="slide">
                        <img src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTY_PMsu3sEBOLZCGVVn5bqi4SvYWXnGlPyYAzLQx3Lvm4avEIbcc9ym6OjRwJr"
                             alt="우드버닝 클래스">
                        <div class="slide-caption">우드버닝 클래스</div>
                    </div>
                </div>

                <button class="slider-control next" aria-label="다음">&#10095;</button>
            </div>
        </div>
    </div>


<div class="swiper mySwiper">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <div class="slide-content slide-content--reserve-img">
                <div class="text-box">
                    <h4>하비메이커 모집</h4>
                    <h3>지금 바로 클래스를<br>등록해보세요</h3>
                    <button>자세히 보기</button>
                </div>
                <div class="image-box">
                    <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092" alt="클래스 이미지 1">
                </div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="slide-content slide-content--reserve-img">
                <div class="text-box">
                    <h4>플라워 클래스</h4>
                    <h3>아름다운 꽃꽂이와<br>플라워 아트 배우기</h3>
                    <button>클래스 보기</button>
                </div>
                <div class="image-box">
                    <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93" alt="클래스 이미지 2">
                </div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="slide-content slide-content--reserve-img">
                <div class="text-box">
                    <h4>도자기 클래스</h4>
                    <h3>나만의 특별한<br>도자기 만들기</h3>
                    <button>지금 참여하기</button>
                </div>
                <div class="image-box">
                    <img src="https://images.unsplash.com/photo-1610701596061-2ecf227e85b2" alt="도자기 클래스 이미지">
                </div>
            </div>
        </div>
    </div>

    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    //
    const track = document.getElementById("sliderTrack");
    const prevBtn = document.querySelector(".slider-control.prev");
    const nextBtn = document.querySelector(".slider-control.next");

    const slides = document.querySelectorAll("#sliderTrack .slide");
    const totalSlides = slides.length;
    const slideWidth = 266; // 카드 하나 폭 + gap
    const visibleSlides = 4; // 한 화면에 보이는 카드 수

    let currentIndex = 0;

    function updateSlider() {
      track.style.transition = "transform 0.4s ease";
      track.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
    }

    // 다음 버튼
    nextBtn.addEventListener("click", () => {
      currentIndex++;
      updateSlider();

      // 마지막 슬라이드 이상 → 처음으로 이동
      if (currentIndex > totalSlides - visibleSlides) {
        setTimeout(() => {
          track.style.transition = "none"; // 애니메이션 제거
          currentIndex = 0;
          track.style.transform = `translateX(0px)`;
        }, 400);
      }
    });

    // 이전 버튼
    prevBtn.addEventListener("click", () => {
      currentIndex--;
      updateSlider();

      // 첫 슬라이드 이전 → 마지막으로 이동
      if (currentIndex < 0) {
        setTimeout(() => {
          track.style.transition = "none";
          currentIndex = totalSlides - visibleSlides;
          track.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
        }, 400);
      }
    });


  //
  var swiper = new Swiper(".mySwiper", {
    loop: true,
    autoplay: {
      delay: 3000, // 3초마다 자동 전환
      disableOnInteraction: false, // 유저가 클릭해도 자동재생 유지
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  });
</script>

{% endblock %}